{% extends "base.html" %}
{% block content %}
{% load static %}
<br>
<br>
<br>
<link rel="stylesheet" href="{% static "update.css" %}" />

 <!-- 회원정보 변경 -->
<form action="{% url "common:update" %}" method="post">
    {% csrf_token %}
    {% include "form_errors.html" %}
    <div class="login-wrap">
    <div class="login-html">
        <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">회원정보 수정</label>
        <input id="tab-2" type="radio" name="tab" class="sign-up" ><label for="tab-2" class="tab">비밀번호 변경</label>
        <div class="login-form">
        <div class="sign-in-htm">
            <div class="group">
            <label for="user_id" class="label">ID(E-mail)</label>
            <input type="text" name="user_id" id="user_id" readonly class="input"
                    value="{{form.user_id.value|default_if_none:""}}">
            </div>

            <div class="group">
            <label for="birth_date" class="label">birth_date</label>
            <input type="date" name="birth_date" id="birth_date" class="input"
                    value="{{form.birth_date.value|default_if_none:""}}">
            </div>

            <div class="group">
                <label for="gender" class="label">성별</label>

                <input name="gender" id="male" type="radio" value="1" class="check" {% if form.gender.value == '1' %}checked{% endif %}>
                <label for="male"><span class="icon"></span>남성</label>

                <input name="gender" id="female" type="radio" value="2" class="check" {% if form.gender.value == '2' %}checked{% endif %}>
                <label for="female"><span class="icon"></span>여성</label>
            </div>
            

            <div class="group">
            <button type="submit" class="button">수정하기</button>
            </div>

            <div class="hr"></div>
            <div class="foot-lnk">
            <a href="{% url "common:profile_delete" %}">회원탈퇴</a>
            </div>

        </div>
        </form>

    
      <!-- 비밀번호 변경 -->
      <div class="sign-up-htm">
      <form action="{% url "common:changepassword" %}" method="post">
        {% csrf_token %}
        {% if messages %}
        <div>
            {% for message in messages %}
                {{ message.tags }}! {{ message.message }}
            {% endfor %}
        </div>
        {% endif %}
        {% include "form_errors.html" %}

        <div class="group">
          <label for="id_old_password"" class="label">기존 비밀번호</label>
          <input  type="password" name="old_password" autocomplete="new-password" class="input" 
          autofocus required id="id_old_password" data-type="password">
        </div>

        <div class="group">
          <label for="id_new_password1" class="label">새 비밀번호</label>
          <input type="password" name="new_password1" class="input" 
          required id="id_new_password1">
        </div>

        <div class="group">
          <label for="id_new_password2" class="label">새 비밀번호(확인)</label>
          <input type="password" name="new_password2" class="input"
          required id="id_new_password2">
        </div>

        <div class="hr"></div>
        <div class="foot-lnk">
            <div class="group">
            <input type="submit" class="button" value="변경하기">
            </div>
        </div>


      </form>
      </div>

    </div>
    </div>
</div>
<br>
<br>
<br>
{% endblock content %}



{% comment %} {% extends "base.html" %}
{% block content %}
    <h1>회원정보 수정</h1>
    <form action="{% url "common:update" %}" method="post">
        {% csrf_token %}
        {% include "form_errors.html" %}
        <div class="mb-3">
            <label for="user_id">아이디(이메일 형식)</label>
            <input type="text" name="user_id" id="user_id" readonly class="form-control"
                value="{{form.user_id.value|default_if_none:""}}">
        </div>
        <div class="mb-3">
            <label for="gender">성별</label>
            <select name="gender" id="gender" class="form-control">
                <option value="">성별을 선택하세요</option>
                <option value="1">남성</option>
                <option value="2">여성</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="age">나이</label>
            <input type="text" name="age" id="age" class="form-control"
                value="{{form.age.value|default_if_none:""}}">
        </div>
        <button type="submit" class="btn btn-primary">수정하기</button>
    </form>
    <br>
    <a href="{% url "common:changepassword" %}">비밀번호 변경하기</a>
    <br>
    <h1>회원 탈퇴하기</h1>
    <p>회원탈퇴를 진행하시려면 아래 버튼을 눌러주세요.</p>
    <form action="{% url "common:delete" %}" method="post">
        {% csrf_token %}
        <input type="submit" class="btn btn-primary" value="회원탈퇴">
    </form>
{% endblock content %} {% endcomment %}